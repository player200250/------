<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <title>å“¡å·¥å‡ºå‹¤ç®¡ç† - XXXæ¬å®¶å…¬å¸</title>
    <link rel="stylesheet" href="employee.css">
    <style>
        /* å‡ºå‹¤ç¾åŒ– */
        .attendance-stats {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            border-bottom: 4px solid #0056b3;
        }

        .stat-card.alert {
            border-bottom-color: #ff5252;
        }

        .stat-value {
            font-size: 1.8rem;
            font-weight: bold;
            color: #c2185b;
            display: block;
        }

        .stat-label {
            color: #666;
            font-size: 0.9rem;
        }

        .time-badge {
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.85rem;
            font-weight: bold;
        }

        .status-on {
            background: #e8f5e9;
            color: #2e7d32;
        }

        /* æ­£å¸¸ */
        .status-late {
            background: #ffebee;
            color: #c62828;
        }

        /* é²åˆ° */
    </style>
</head>

<body>
    <header class="top-header">
        <div class="company-name">XXXæ¬å®¶å…¬å¸</div>
        <div class="user-info">
            <span class="status-dot"></span>
            <div class="greeting-box">æ—©å®‰ï¼ŒXXX</div>
        </div>
    </header>

    <div class="main-layout">
        <aside class="sidebar">
            <div class="sidebar-header">
                <h3>äººåŠ›ç®¡ç†æ¨¡çµ„</h3>
            </div>
            <nav class="sidebar-menu">
                <ul>
                    <li onclick="location.href='employee.html'"><i class="icon">ğŸ‘¤</i> å“¡å·¥è³‡æ–™ç®¡ç†</li>
                    <li class="active"><i class="icon">ğŸ“…</i> å“¡å·¥å‡ºå‹¤ç®¡ç†</li>
                    <li><i class="icon">ğŸ–ï¸</i> å“¡å·¥è«‹å‡ç®¡ç†</li>
                    <li onclick="location.href='disable_employee.html'"><i class="icon">ğŸ“‘</i> äººäº‹ç•°å‹•ç®¡ç†</li>
                </ul>
            </nav>
        </aside>

        <main class="content-area">
            <h2 class="form-title">ä»Šæ—¥å‡ºå‹¤æ¦‚æ³ (2025-09-07)</h2>

            <div class="attendance-stats">
                <div class="stat-card">
                    <span class="stat-value">42</span>
                    <span class="stat-label">æ‡‰åˆ°äººæ•¸</span>
                </div>
                <div class="stat-card">
                    <span class="stat-value" style="color: #2e7d32;">38</span>
                    <span class="stat-label">å¯¦åˆ°äººæ•¸</span>
                </div>
                <div class="stat-card alert">
                    <span class="stat-value">3</span>
                    <span class="stat-label">é²åˆ°äººæ•¸</span>
                </div>
                <div class="stat-card">
                    <span class="stat-value" style="color: #007bff;">1</span>
                    <span class="stat-label">è«‹å‡ä¸­</span>
                </div>
            </div>

            <section class="data-table-container">
                <div class="search-container" style="margin-bottom: 15px;">
                    <input type="date" class="search-input" id="att-date">
                    <button class="search-btn">åˆ‡æ›æ—¥æœŸ</button>
                </div>

                <table class="employee-table">
                    <thead>
                        <tr>
                            <th>å“¡å·¥ç·¨è™Ÿ</th>
                            <th>å§“å</th>
                            <th>ä¸Šç­æ‰“å¡</th>
                            <th>ä¸‹ç­æ‰“å¡</th>
                            <th>ç›®å‰ç‹€æ…‹</th>
                            <th>å‚™è¨»</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr data-id="EMP001">
                            <td>EMP001</td>
                            <td>ç‹æ›‰æ˜</td>
                            <td class="time-in">08:55:12</td>
                            <td>18:05:44</td>
                            <td class="status-cell"><span class="time-badge status-on">æ­£å¸¸</span></td>
                            <td>
                                <button class="btn-edit" onclick="editAttendance('EMP001')">ç·¨è¼¯</button>
                            </td>
                        </tr>
                        <tr data-id="EMP002">
                            <td>EMP002</td>
                            <td>é™³æ›‰ç¾</td>
                            <td class="time-in">09:15:20</td>
                            <td>--:--:--</td>
                            <td class="status-cell"><span class="time-badge status-late">é²åˆ°</span></td>
                            <td>
                                <button class="btn-edit" onclick="editAttendance('EMP002')">ç·¨è¼¯</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </section>
        </main>
    </div>
</body>
<script>// å¯ä»¥ä¿®æ”¹å‡ºå‹¤ç‹€æ…‹
    function editAttendance(empId) {
        const row = document.querySelector(`tr[data-id="${empId}"]`);
        const timeCell = row.querySelector('.time-in');
        const statusCell = row.querySelector('.status-cell');

        // 1. æŠŠæ–‡å­—è®Šæˆè¼¸å…¥æ¡†
        const currentTime = timeCell.innerText;
        timeCell.innerHTML = `<input type="time" value="${currentTime}" id="edit-time-${empId}">`;

        // 2. æŠŠç‹€æ…‹è®Šæˆä¸‹æ‹‰é¸å–®
        statusCell.innerHTML = `
        <select id="edit-status-${empId}">
            <option value="æ­£å¸¸">æ­£å¸¸</option>
            <option value="é²åˆ°">é²åˆ°</option>
            <option value="è«‹å‡">è«‹å‡</option>
        </select>
    `;

        // 3. æŠŠæŒ‰éˆ•è®Šæˆã€Œå„²å­˜ã€
        const btn = row.querySelector('.btn-edit');
        btn.innerText = 'ğŸ’¾ å„²å­˜';
        btn.onclick = () => saveAttendance(empId);
    }

    function saveAttendance(empId) {
        const newTime = document.getElementById(`edit-time-${empId}`).value;
        const newStatus = document.getElementById(`edit-status-${empId}`).value;

        // é€™è£¡å¯ä»¥å¯«å…¥ LocalStorage å„²å­˜ï¼
        alert(`${empId} çš„ç´€éŒ„å·²æ›´æ–°ç‚º ${newTime} (${newStatus}) å›‰ï¼`);

        // é‡æ–°æ¸²æŸ“è¡¨æ ¼ï¼ˆæ¢å¾©æˆæ–‡å­—ç‹€æ…‹ï¼‰
        location.reload();
    }</script>

</html>