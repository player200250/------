<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>è«‹å‡ç”³è«‹ - XXXæ¬å®¶å…¬å¸</title>
    <link rel="stylesheet" href="employee.css">
    <style>
        /* å°ˆé–€ç‚ºå“¡å·¥ç”³è«‹è¡¨å–®å„ªåŒ–çš„æ¨£å¼ */
        .form-container {
            display: flex;
            justify-content: center;
            padding: 40px 20px;
        }
        .leave-card {
            background: white;
            width: 100%;
            max-width: 600px;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.05);
        }
        .form-group { margin-bottom: 20px; }
        .form-group label { display: block; margin-bottom: 8px; font-weight: bold; color: #333; }
        .form-group input, .form-group select, .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 10px;
            box-sizing: border-box;
            font-size: 1rem;
        }
        .btn-submit {
            background: #c2185b;
            color: white;
            border: none;
            width: 100%;
            padding: 15px;
            border-radius: 10px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: 0.3s;
        }
        .btn-submit:hover { background: #ad1457; transform: translateY(-2px); }
    </style>
</head>
<body style="background-color: #fce4ec;">

    <header class="top-header">
        <div class="company-name">XXXæ¬å®¶å…¬å¸ - å“¡å·¥ç”³è«‹</div>
        <div class="greeting-box" onclick="location.href='user_portal.html'" style="cursor:pointer;">
            â¬… è¿”å›å€‹äººä¸­å¿ƒ
        </div>
    </header>

    <div class="form-container">
        <div class="leave-card">
            <h2 class="form-title" style="color: #c2185b; text-align: center; margin-bottom: 30px;">
                ğŸ–ï¸ å¡«å¯«è«‹å‡ç”³è«‹å–®
            </h2>

            <form id="leave-form">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                    <div class="form-group">
                        <label>å“¡å·¥å§“å</label>
                        <input type="text" value="çˆµç‘€" readonly style="background: #f9f9f9; color: #888;">
                    </div>
                    <div class="form-group">
                        <label>å“¡å·¥ç·¨è™Ÿ</label>
                        <input type="text" value="EMP888" readonly style="background: #f9f9f9; color: #888;">
                    </div>
                </div>

                <div class="form-group">
                    <label>è«‹å‡é¡å‹ (LeaveType)</label>
                    <select id="leave-type" required>
                        <option value="äº‹å‡">äº‹å‡</option>
                        <option value="ç—…å‡">ç—…å‡</option>
                        <option value="ç‰¹ä¼‘">ç‰¹ä¼‘</option>
                        <option value="å©šå‡">å©šå‡</option>
                        <option value="å–ªå‡">å–ªå‡</option>
                    </select>
                </div>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                    <div class="form-group">
                        <label>é–‹å§‹æ—¥æœŸ</label>
                        <input type="date" id="start-date" required>
                    </div>
                    <div class="form-group">
                        <label>è«‹å‡å¤©æ•¸</label>
                        <input type="number" id="days" min="0.5" step="0.5" placeholder="ä¾‹å¦‚: 1.5" required>
                    </div>
                </div>

                <div class="form-group">
                    <label>è«‹å‡åŸå› èªªæ˜ (Remark)</label>
                    <textarea id="remark" rows="4" placeholder="è«‹è©³ç´°æ•˜è¿°æ‚¨çš„åŸå› ..." required></textarea>
                </div>

                <button type="submit" class="btn-submit">é€å‡ºç”³è«‹ä¸¦ç­‰å¾…å¯©æ ¸</button>
            </form>
        </div>
    </div>

    <script>
        document.getElementById('leave-form').onsubmit = function(e) {
            e.preventDefault();
            
            // æŠ“å–è¡¨å–®è³‡æ–™
            const leaveData = {
                id: Date.now(), // ç°¡å–®ç”Ÿæˆä¸€å€‹ ID
                empId: 'EMP888',
                name: 'çˆµç‘€',
                type: document.getElementById('leave-type').value,
                startDate: document.getElementById('start-date').value,
                days: document.getElementById('days').value,
                remark: document.getElementById('remark').value,
                status: 'å¾…å¯©æ ¸' // é è¨­ç‹€æ…‹
            };

            // 1. å­˜å…¥ LocalStorage (æ¨¡æ“¬å¯«å…¥è³‡æ–™åº«)
            let pendingLeaves = JSON.parse(localStorage.getItem('pendingLeaves')) || [];
            pendingLeaves.push(leaveData);
            localStorage.setItem('pendingLeaves', JSON.stringify(pendingLeaves));

            alert('ä¸»äººï½æ‚¨çš„è«‹å‡ç”³è«‹å·²ç¶“é€å‡ºå›‰ï¼å¿«å»æ‰¾ç®¡ç†å“¡å¯©æ ¸å§ (à¹‘>â—¡<à¹‘)');
            location.href = 'user_portal.html';
        };
    </script>
</body>
</html>